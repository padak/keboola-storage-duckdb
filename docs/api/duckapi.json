{
    "openapi": "3.1.0",
    "info": {
        "title": "DuckDB Storage API",
        "description": "\nDuckDB Storage API for Keboola Connection.\n\nThis service provides a REST API for managing DuckDB-based storage:\n- Backend initialization and health checks\n- Project management (create/drop DuckDB files)\n- Bucket management (schemas)\n- Table operations (CRUD, import/export)\n- Workspace management\n\nPart of the on-premise Keboola setup without cloud dependencies.\n\n## Idempotency\n\nAll mutating operations (POST, PUT, DELETE) support idempotency via the\n`X-Idempotency-Key` header. When provided, the API caches the response\nfor 10 minutes. Subsequent requests with the same key return the cached\nresponse without re-executing the operation.\n\n**Usage:**\n```\nX-Idempotency-Key: unique-client-generated-key\n```\n\n**Response headers:**\n- `X-Idempotency-Key`: echoed back\n- `X-Idempotency-Replay: true`: indicates a cached response\n\nThis protects against duplicate operations from network retries.\n    ",
        "version": "0.1.0"
    },
    "paths": {
        "/health": {
            "get": {
                "tags": [
                    "backend"
                ],
                "summary": "Health check",
                "description": "Check if the service is healthy and storage is accessible.",
                "operationId": "health_check_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HealthResponse"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/backend/init": {
            "post": {
                "tags": [
                    "backend"
                ],
                "summary": "Initialize backend",
                "description": "Initialize the DuckDB storage backend. Creates required directories if needed.",
                "operationId": "init_backend_backend_init_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InitBackendResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            }
        },
        "/backend/remove": {
            "post": {
                "tags": [
                    "backend"
                ],
                "summary": "Remove backend",
                "description": "Remove/cleanup the storage backend. Currently a no-op (same as BigQuery).",
                "operationId": "remove_backend_backend_remove_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InitBackendResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            }
        },
        "/projects": {
            "post": {
                "tags": [
                    "projects"
                ],
                "summary": "Create project",
                "description": "Create a new Keboola project with its DuckDB database file.",
                "operationId": "create_project_projects_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProjectCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProjectCreateResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            },
            "get": {
                "tags": [
                    "projects"
                ],
                "summary": "List projects",
                "description": "List all projects with optional filtering by status.",
                "operationId": "list_projects_projects_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filter by status: active, deleted",
                            "title": "Status"
                        },
                        "description": "Filter by status: active, deleted"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "description": "Max results",
                            "default": 100,
                            "title": "Limit"
                        },
                        "description": "Max results"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset for pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset for pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProjectListResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}": {
            "get": {
                "tags": [
                    "projects"
                ],
                "summary": "Get project",
                "description": "Get information about a specific project.",
                "operationId": "get_project_projects__project_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProjectResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "projects"
                ],
                "summary": "Update project",
                "description": "Update project metadata (name, settings).",
                "operationId": "update_project_projects__project_id__put",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProjectUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProjectResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "projects"
                ],
                "summary": "Delete project",
                "description": "Delete a project and its DuckDB database file.",
                "operationId": "delete_project_projects__project_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/stats": {
            "get": {
                "tags": [
                    "projects"
                ],
                "summary": "Get project statistics",
                "description": "Get live statistics from the project's DuckDB database.",
                "operationId": "get_project_stats_projects__project_id__stats_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProjectStatsResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/api-keys": {
            "post": {
                "tags": [
                    "api-keys"
                ],
                "summary": "Create a new API key",
                "description": "Create a new API key with specified scope and optional expiration.\n\n    **Scopes:**\n    - `project_admin` (default): Full access to project (no branch_id required)\n    - `branch_admin`: Full access to specific branch (requires branch_id)\n    - `branch_read`: Read-only access to specific branch (requires branch_id)\n\n    **IMPORTANT**: The full API key is returned ONLY on creation. Save it securely.\n\n    **Note**: Requires project_admin access to create keys.",
                "operationId": "create_api_key_projects__project_id__api_keys_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ApiKeyCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "API key created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiKeyCreateResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project or branch not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "api-keys"
                ],
                "summary": "List all API keys",
                "description": "List all API keys for a project (excluding revoked keys by default).\n\n    Returns key metadata without the actual key value (keys are only shown once during creation).",
                "operationId": "list_api_keys_projects__project_id__api_keys_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of API keys",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiKeyListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/api-keys/{key_id}": {
            "get": {
                "tags": [
                    "api-keys"
                ],
                "summary": "Get API key details",
                "description": "Get detailed information about a specific API key (without the actual key value).",
                "operationId": "get_api_key_projects__project_id__api_keys__key_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "key_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "API key details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiKeyResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API key not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "api-keys"
                ],
                "summary": "Revoke an API key",
                "description": "Revoke an API key (soft delete).\n\n    The key will be immediately invalidated and cannot be used for authentication.\n    This operation cannot be undone.\n\n    **Note**: You cannot revoke the last active project_admin key to prevent lockout.",
                "operationId": "revoke_api_key_projects__project_id__api_keys__key_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "key_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "API key revoked successfully"
                    },
                    "400": {
                        "description": "Cannot revoke last project_admin key",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API key not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/api-keys/{key_id}/rotate": {
            "post": {
                "tags": [
                    "api-keys"
                ],
                "summary": "Rotate an API key",
                "description": "Rotate an API key by creating a new key with the same settings and revoking the old one.\n\n    The new key will have:\n    - Same scope as the old key\n    - Same branch_id (if applicable)\n    - Same description with \" (rotated)\" suffix\n    - New expiration (if original had one)\n\n    **IMPORTANT**: The new API key is returned ONLY once. Save it securely.\n    The old key is immediately revoked and cannot be used.",
                "operationId": "rotate_api_key_projects__project_id__api_keys__key_id__rotate_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "key_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "201": {
                        "description": "API key rotated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiKeyCreateResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Cannot rotate revoked key",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API key not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets": {
            "post": {
                "tags": [
                    "buckets"
                ],
                "summary": "Create bucket",
                "description": "Create a new bucket (schema) in a project's DuckDB database.\n\n    Note: Buckets are always created in main project (shared across branches).\n    For dev branches, this creates the bucket in main.",
                "operationId": "create_bucket_projects__project_id__branches__branch_id__buckets_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BucketCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BucketResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "buckets"
                ],
                "summary": "List buckets",
                "description": "List all buckets visible in branch context.\n\n    Note: Buckets are shared across branches, so this always returns\n    buckets from main project regardless of branch_id.",
                "operationId": "list_buckets_projects__project_id__branches__branch_id__buckets_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BucketListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}": {
            "get": {
                "tags": [
                    "buckets"
                ],
                "summary": "Get bucket",
                "description": "Get information about a specific bucket.",
                "operationId": "get_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BucketResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "buckets"
                ],
                "summary": "Delete bucket",
                "description": "Delete a bucket and optionally all its tables.\n\n    Note: Buckets can only be deleted from the default branch (main).\n    Dev branches share buckets with main, so deleting from a branch is not allowed.",
                "operationId": "delete_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "cascade",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "Drop all tables in the bucket",
                            "default": true,
                            "title": "Cascade"
                        },
                        "description": "Drop all tables in the bucket"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/share": {
            "post": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Share bucket with another project",
                "description": "Share a bucket with another project (records the share, actual linking done on target side). Only works on default branch.",
                "operationId": "share_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__share_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BucketShareRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BucketShareInfo"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Unshare bucket",
                "description": "Remove bucket share with a specific project. Only works on default branch.",
                "operationId": "unshare_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__share_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "target_project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Target project ID to unshare with",
                            "title": "Target Project Id"
                        },
                        "description": "Target project ID to unshare with"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/link": {
            "post": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Link bucket from another project",
                "description": "Link (attach) a bucket from another project using DuckDB ATTACH and views. Only works on default branch.",
                "operationId": "link_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__link_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BucketLinkRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BucketResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Unlink bucket",
                "description": "Unlink a previously linked bucket (drop views and detach database). Only works on default branch.",
                "operationId": "unlink_bucket_projects__project_id__branches__branch_id__buckets__bucket_name__link_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/grant-readonly": {
            "post": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Grant readonly access",
                "description": "Grant readonly access to a bucket (metadata operation for DuckDB). Only works on default branch.",
                "operationId": "grant_readonly_access_projects__project_id__branches__branch_id__buckets__bucket_name__grant_readonly_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Grant Readonly Access Projects  Project Id  Branches  Branch Id  Buckets  Bucket Name  Grant Readonly Post"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "bucket-sharing"
                ],
                "summary": "Revoke readonly access",
                "description": "Revoke readonly access to a bucket (metadata operation for DuckDB). Only works on default branch.",
                "operationId": "revoke_readonly_access_projects__project_id__branches__branch_id__buckets__bucket_name__grant_readonly_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables": {
            "post": {
                "tags": [
                    "tables"
                ],
                "summary": "Create table",
                "description": "Create a new table in a bucket.\n\n    - For default branch: creates table in main project\n    - For dev branches: creates table in branch (isolated from main)",
                "operationId": "create_table_projects__project_id__branches__branch_id__buckets__bucket_name__tables_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TableCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "tables"
                ],
                "summary": "List tables",
                "description": "List all tables visible in branch context.\n\n    - For default branch: lists tables from main\n    - For dev branches: merges main + branch tables with source indicators",
                "operationId": "list_tables_projects__project_id__branches__branch_id__buckets__bucket_name__tables_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}": {
            "get": {
                "tags": [
                    "tables"
                ],
                "summary": "Get table (ObjectInfo)",
                "description": "Get detailed information about a table.\n\n    - For default branch: gets from main\n    - For dev branches: gets from branch if CoW'd, otherwise from main (Live View)",
                "operationId": "get_table_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "tables"
                ],
                "summary": "Delete table",
                "description": "Delete a table from a bucket.\n\n    - For default branch: deletes from main\n    - For dev branches: deletes branch copy only (cannot delete main table from branch)",
                "operationId": "delete_table_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/preview": {
            "get": {
                "tags": [
                    "tables"
                ],
                "summary": "Preview table",
                "description": "Get a preview of table data (first N rows).\n\n    - For default branch: previews from main\n    - For dev branches: previews from branch if CoW'd, otherwise from main",
                "operationId": "preview_table_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__preview_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 10000,
                            "minimum": 1,
                            "description": "Maximum number of rows to return (1-10000)",
                            "default": 1000,
                            "title": "Limit"
                        },
                        "description": "Maximum number of rows to return (1-10000)"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TablePreviewResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/columns": {
            "post": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Add column",
                "description": "Add a new column to an existing table. Only allowed on default branch.",
                "operationId": "add_column_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__columns_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AddColumnRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/columns/{column_name}": {
            "delete": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Drop column",
                "description": "Remove a column from an existing table. Only allowed on default branch.",
                "operationId": "drop_column_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__columns__column_name__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "column_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Column Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Alter column",
                "description": "Modify a column (rename, change type, set/drop NOT NULL, set/drop default). Only allowed on default branch.",
                "operationId": "alter_column_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__columns__column_name__put",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "column_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Column Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AlterColumnRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/primary-key": {
            "post": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Add primary key",
                "description": "Add a primary key constraint to a table. Only allowed on default branch.",
                "operationId": "add_primary_key_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__primary_key_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SetPrimaryKeyRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Drop primary key",
                "description": "Remove the primary key constraint from a table. Only allowed on default branch.",
                "operationId": "drop_primary_key_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__primary_key_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/rows": {
            "delete": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Delete rows",
                "description": "Delete rows from a table matching a WHERE condition. Works on both main and dev branches.",
                "operationId": "delete_rows_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__rows_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DeleteRowsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DeleteRowsResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/profile": {
            "post": {
                "tags": [
                    "table-schema"
                ],
                "summary": "Profile table",
                "description": "Get statistical profile of a table (min, max, avg, percentiles, etc.). Works on both main and dev branches.",
                "operationId": "profile_table_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__profile_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TableProfileResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/import/file": {
            "post": {
                "tags": [
                    "import-export"
                ],
                "summary": "Import from file",
                "description": "Import data from a file into a table using 3-stage pipeline. Requires default branch for MVP.",
                "operationId": "import_from_file_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__import_file_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ImportFromFileRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImportResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/export": {
            "post": {
                "tags": [
                    "import-export"
                ],
                "summary": "Export to file",
                "description": "Export table data to a file (CSV or Parquet). Requires default branch for MVP.",
                "operationId": "export_to_file_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__export_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ExportRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ExportResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/files/prepare": {
            "post": {
                "tags": [
                    "files"
                ],
                "summary": "Prepare file upload",
                "description": "Prepare to upload a file. Returns an upload key and URL.",
                "operationId": "prepare_upload_projects__project_id__files_prepare_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FilePrepareRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FilePrepareResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/files/upload/{upload_key}": {
            "post": {
                "tags": [
                    "files"
                ],
                "summary": "Upload file",
                "description": "Upload a file to staging area using a prepared upload key.",
                "operationId": "upload_file_projects__project_id__files_upload__upload_key__post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "upload_key",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Upload Key"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_upload_file_projects__project_id__files_upload__upload_key__post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileUploadResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/files": {
            "post": {
                "tags": [
                    "files"
                ],
                "summary": "Register uploaded file",
                "description": "Register an uploaded file, moving it from staging to permanent storage.",
                "operationId": "register_file_projects__project_id__files_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FileRegisterRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Internal Server Error"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "files"
                ],
                "summary": "List files",
                "description": "List all registered files for a project.",
                "operationId": "list_files_projects__project_id__files_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "include_staged",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "description": "Include staging files",
                            "default": false,
                            "title": "Include Staged"
                        },
                        "description": "Include staging files"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "description": "Maximum files to return",
                            "default": 100,
                            "title": "Limit"
                        },
                        "description": "Maximum files to return"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset for pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset for pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/files/{file_id}": {
            "get": {
                "tags": [
                    "files"
                ],
                "summary": "Get file info",
                "description": "Get information about a specific file.",
                "operationId": "get_file_projects__project_id__files__file_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "File Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FileResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "files"
                ],
                "summary": "Delete file",
                "description": "Delete a file from storage.",
                "operationId": "delete_file_projects__project_id__files__file_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "File Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/files/{file_id}/download": {
            "get": {
                "tags": [
                    "files"
                ],
                "summary": "Download file",
                "description": "Download a file's content.",
                "operationId": "download_file_projects__project_id__files__file_id__download_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "file_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "File Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/settings/snapshots": {
            "get": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Get project snapshot settings",
                "description": "Get effective snapshot settings for a project with inheritance info.",
                "operationId": "get_project_snapshot_settings_projects__project_id__settings_snapshots_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Update project snapshot settings",
                "description": "Set snapshot configuration for a project (partial update).",
                "operationId": "update_project_snapshot_settings_projects__project_id__settings_snapshots_put",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SnapshotConfigRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Reset project snapshot settings",
                "description": "Delete local project settings (inherit from system defaults).",
                "operationId": "delete_project_snapshot_settings_projects__project_id__settings_snapshots_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/settings/snapshots": {
            "get": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Get bucket snapshot settings",
                "description": "Get effective snapshot settings for a bucket with inheritance info. Only allowed on default branch.",
                "operationId": "get_bucket_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__settings_snapshots_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Update bucket snapshot settings",
                "description": "Set snapshot configuration for a bucket (partial update). Only allowed on default branch.",
                "operationId": "update_bucket_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__settings_snapshots_put",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SnapshotConfigRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Reset bucket snapshot settings",
                "description": "Delete local bucket settings (inherit from project). Only allowed on default branch.",
                "operationId": "delete_bucket_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__settings_snapshots_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/buckets/{bucket_name}/tables/{table_name}/settings/snapshots": {
            "get": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Get table snapshot settings",
                "description": "Get effective snapshot settings for a table with inheritance info. Only allowed on default branch.",
                "operationId": "get_table_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__settings_snapshots_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Update table snapshot settings",
                "description": "Set snapshot configuration for a table (partial update). Only allowed on default branch.",
                "operationId": "update_table_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__settings_snapshots_put",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SnapshotConfigRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotSettingsResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "snapshot-settings"
                ],
                "summary": "Reset table snapshot settings",
                "description": "Delete local table settings (inherit from bucket). Only allowed on default branch.",
                "operationId": "delete_table_snapshot_settings_projects__project_id__branches__branch_id__buckets__bucket_name__tables__table_name__settings_snapshots_delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/snapshots": {
            "post": {
                "tags": [
                    "snapshots"
                ],
                "summary": "Create snapshot",
                "description": "Create a manual snapshot of a table. Only available on default branch for MVP.",
                "operationId": "create_snapshot_projects__project_id__branches__branch_id__snapshots_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SnapshotCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "snapshots"
                ],
                "summary": "List snapshots",
                "description": "List snapshots for a project with optional filtering. Only available on default branch for MVP.",
                "operationId": "list_snapshots_projects__project_id__branches__branch_id__snapshots_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filter by bucket name",
                            "title": "Bucket"
                        },
                        "description": "Filter by bucket name"
                    },
                    {
                        "name": "table",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filter by table name",
                            "title": "Table"
                        },
                        "description": "Filter by table name"
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filter by snapshot type (manual, auto_predrop, etc.)",
                            "title": "Type"
                        },
                        "description": "Filter by snapshot type (manual, auto_predrop, etc.)"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "description": "Maximum results",
                            "default": 100,
                            "title": "Limit"
                        },
                        "description": "Maximum results"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset for pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset for pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/snapshots/{snapshot_id}": {
            "get": {
                "tags": [
                    "snapshots"
                ],
                "summary": "Get snapshot details",
                "description": "Get detailed information about a snapshot including schema. Only available on default branch for MVP.",
                "operationId": "get_snapshot_projects__project_id__branches__branch_id__snapshots__snapshot_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "snapshot_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Snapshot Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotDetailResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "snapshots"
                ],
                "summary": "Delete snapshot",
                "description": "Delete a snapshot and its files. Only available on default branch for MVP.",
                "operationId": "delete_snapshot_projects__project_id__branches__branch_id__snapshots__snapshot_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "snapshot_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Snapshot Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/snapshots/{snapshot_id}/restore": {
            "post": {
                "tags": [
                    "snapshots"
                ],
                "summary": "Restore from snapshot",
                "description": "Restore a table from a snapshot. Only available on default branch for MVP.",
                "operationId": "restore_snapshot_projects__project_id__branches__branch_id__snapshots__snapshot_id__restore_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "snapshot_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Snapshot Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SnapshotRestoreRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SnapshotRestoreResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Bad Request"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Conflict"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches": {
            "post": {
                "tags": [
                    "branches"
                ],
                "summary": "Create a dev branch",
                "description": "Create a new dev branch for isolated development.\n\n    ADR-007 behavior:\n    - Branch starts empty (no data copied)\n    - Reads from branch return main data (live view)\n    - First write to a table triggers Copy-on-Write\n    - Branch tables are isolated after CoW",
                "operationId": "create_branch_projects__project_id__branches_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BranchCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Branch created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BranchResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Branch name already exists",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "branches"
                ],
                "summary": "List dev branches",
                "description": "List all dev branches for a project.",
                "operationId": "list_branches_projects__project_id__branches_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "default": 100,
                            "title": "Limit"
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0,
                            "title": "Offset"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of branches",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BranchListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}": {
            "get": {
                "tags": [
                    "branches"
                ],
                "summary": "Get branch details",
                "description": "Get detailed information about a dev branch including copied tables list.",
                "operationId": "get_branch_projects__project_id__branches__branch_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Branch details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BranchDetailResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Branch not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "branches"
                ],
                "summary": "Delete a dev branch",
                "description": "Delete a dev branch and all its data.\n\n    WARNING: All tables copied to this branch will be permanently deleted.\n    This operation cannot be undone.",
                "operationId": "delete_branch_projects__project_id__branches__branch_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Branch deleted"
                    },
                    "404": {
                        "description": "Branch not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/tables/{bucket_name}/{table_name}/pull": {
            "post": {
                "tags": [
                    "branches"
                ],
                "summary": "Pull table from main",
                "description": "Pull (refresh) a table from main, restoring live view.\n\n    This operation:\n    1. Deletes the branch copy of the table (if exists)\n    2. Future reads will return current main data (live view)\n    3. Future writes will trigger a new Copy-on-Write\n\n    Use this to discard branch changes and sync with main.",
                "operationId": "pull_table_projects__project_id__branches__branch_id__tables__bucket_name___table_name__pull_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "bucket_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket Name"
                        }
                    },
                    {
                        "name": "table_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Table Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Table pulled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PullTableResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Branch or table not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces": {
            "post": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Create a workspace",
                "description": "Create a new temporary SQL workspace for data exploration.\n\n    The workspace provides:\n    - Isolated DuckDB instance\n    - Temporary credentials (username/password)\n    - TTL-based automatic expiration\n    - Table loading from project buckets\n\n    **IMPORTANT**: The password is returned ONLY on creation. Save it securely.",
                "operationId": "create_workspace_projects__project_id__workspaces_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WorkspaceCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Workspace created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "workspaces"
                ],
                "summary": "List workspaces",
                "description": "List all workspaces for a project, including expired ones.",
                "operationId": "list_workspaces_projects__project_id__workspaces_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "default": 100,
                            "title": "Limit"
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0,
                            "title": "Offset"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of workspaces",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces/{workspace_id}": {
            "get": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Get workspace details",
                "description": "Get detailed information about a workspace including objects.",
                "operationId": "get_workspace_projects__project_id__workspaces__workspace_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Workspace details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceDetailResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Delete a workspace",
                "description": "Delete a workspace and all its data.\n\n    WARNING: All data in this workspace will be permanently deleted.\n    This operation cannot be undone.",
                "operationId": "delete_workspace_projects__project_id__workspaces__workspace_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Workspace deleted"
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces/{workspace_id}/clear": {
            "post": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Clear workspace",
                "description": "Clear all data from workspace (drop all tables, views, etc.).",
                "operationId": "clear_workspace_projects__project_id__workspaces__workspace_id__clear_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Workspace cleared"
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces/{workspace_id}/objects/{object_name}": {
            "delete": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Drop workspace object",
                "description": "Drop a specific object (table, view) from workspace.",
                "operationId": "drop_workspace_object_projects__project_id__workspaces__workspace_id__objects__object_name__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "object_name",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Object Name"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Object dropped"
                    },
                    "404": {
                        "description": "Workspace or object not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces/{workspace_id}/load": {
            "post": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Load data into workspace",
                "description": "Load tables from project buckets into workspace.\n\n    This operation copies table data into the workspace DuckDB instance.\n    Changes in workspace don't affect source tables.",
                "operationId": "load_data_projects__project_id__workspaces__workspace_id__load_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WorkspaceLoadRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tables loaded successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceLoadResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Workspace or table not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/workspaces/{workspace_id}/credentials/reset": {
            "post": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Reset workspace credentials",
                "description": "Reset workspace credentials (generate new password).\n\n    **IMPORTANT**: The new password is returned ONLY once. Save it securely.\n    Old credentials will be immediately invalidated.",
                "operationId": "reset_credentials_projects__project_id__workspaces__workspace_id__credentials_reset_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Credentials reset successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceConnectionInfo"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/workspaces": {
            "post": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Create a branch workspace",
                "description": "Create a new workspace scoped to a development branch.\n\n    Branch workspaces can access:\n    - Branch-specific table data (modified from main)\n    - Main branch tables (read-only fallback)\n\n    **IMPORTANT**: The password is returned ONLY on creation. Save it securely.",
                "operationId": "create_branch_workspace_projects__project_id__branches__branch_id__workspaces_post",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WorkspaceCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Branch workspace created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project or branch not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "workspaces"
                ],
                "summary": "List branch workspaces",
                "description": "List all workspaces for a development branch.",
                "operationId": "list_branch_workspaces_projects__project_id__branches__branch_id__workspaces_get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "default": 100,
                            "title": "Limit"
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0,
                            "title": "Offset"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of branch workspaces",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceListResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Project or branch not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/projects/{project_id}/branches/{branch_id}/workspaces/{workspace_id}": {
            "get": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Get branch workspace details",
                "description": "Get detailed information about a branch workspace.",
                "operationId": "get_branch_workspace_projects__project_id__branches__branch_id__workspaces__workspace_id__get",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Branch workspace details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WorkspaceDetailResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "workspaces"
                ],
                "summary": "Delete branch workspace",
                "description": "Delete a branch workspace and its associated files and credentials.",
                "operationId": "delete_branch_workspace_projects__project_id__branches__branch_id__workspaces__workspace_id__delete",
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project ID",
                            "title": "Project Id"
                        },
                        "description": "Project ID"
                    },
                    {
                        "name": "branch_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Branch Id"
                        }
                    },
                    {
                        "name": "workspace_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Branch workspace deleted"
                    },
                    "404": {
                        "description": "Workspace not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/internal/pgwire/auth": {
            "post": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Authenticate PG Wire session",
                "description": "Called by duckgres to validate workspace credentials.\n    Returns workspace info for session initialization including:\n    - Path to workspace DuckDB file\n    - List of project tables to ATTACH (read-only)\n    - Resource limits for the session",
                "operationId": "authenticate_pgwire_session_internal_pgwire_auth_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PGWireAuthRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PGWireAuthResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "410": {
                        "description": "Workspace expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Connection limit reached",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            }
        },
        "/internal/pgwire/sessions": {
            "post": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Register new session",
                "description": "Called by duckgres after successful auth to register session.",
                "operationId": "create_session_internal_pgwire_sessions_post",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PGWireSessionCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PGWireSessionInfo"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            },
            "get": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "List sessions",
                "description": "List all sessions, optionally filtered by workspace or status.",
                "operationId": "list_sessions_internal_pgwire_sessions_get",
                "parameters": [
                    {
                        "name": "workspace_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Workspace Id"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Status"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PGWireSessionInfo"
                                    },
                                    "title": "Response List Sessions Internal Pgwire Sessions Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/internal/pgwire/sessions/{session_id}": {
            "get": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Get session info",
                "description": "Get information about a session.",
                "operationId": "get_session_internal_pgwire_sessions__session_id__get",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PGWireSessionInfo"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Close session",
                "description": "Called by duckgres when connection is closed.",
                "operationId": "close_session_internal_pgwire_sessions__session_id__delete",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    },
                    {
                        "name": "reason",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "disconnected",
                            "title": "Reason"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/internal/pgwire/sessions/{session_id}/activity": {
            "patch": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Update session activity",
                "description": "Called by duckgres to update last activity time and query count.",
                "operationId": "update_session_activity_internal_pgwire_sessions__session_id__activity_patch",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PGWireSessionUpdateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PGWireSessionInfo"
                                }
                            }
                        }
                    },
                    "404": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        },
                        "description": "Not Found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/internal/pgwire/sessions/cleanup": {
            "post": {
                "tags": [
                    "pgwire-internal"
                ],
                "summary": "Cleanup stale sessions",
                "description": "Mark sessions as timeout if idle for too long.",
                "operationId": "cleanup_stale_sessions_internal_pgwire_sessions_cleanup_post",
                "parameters": [
                    {
                        "name": "idle_timeout_seconds",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "title": "Idle Timeout Seconds"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Cleanup Stale Sessions Internal Pgwire Sessions Cleanup Post"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/driver/execute": {
            "post": {
                "tags": [
                    "driver"
                ],
                "summary": "Execute Driver Command",
                "description": "Execute a storage driver command.\n\nThis endpoint is the HTTP bridge for driver protocol commands.\nIt accepts commands in JSON format.\n\n**Command format:**\n```json\n{\n    \"command\": {\n        \"type\": \"InitBackendCommand\"\n    }\n}\n```\n\n**With credentials:**\n```json\n{\n    \"command\": {\n        \"type\": \"CreateProjectCommand\",\n        \"projectId\": \"my-project\"\n    },\n    \"credentials\": {\n        \"host\": \"project_id\",\n        \"principal\": \"api_key\"\n    }\n}\n```\n\n**Supported commands:**\n- InitBackendCommand\n- RemoveBackendCommand\n- CreateProjectCommand\n- DropProjectCommand\n\nMore commands will be added as handlers are implemented.",
                "operationId": "execute_driver_command_driver_execute_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DriverExecuteRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DriverExecuteResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "Bearer Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ]
            }
        },
        "/driver/commands": {
            "get": {
                "tags": [
                    "driver"
                ],
                "summary": "List Supported Commands",
                "description": "List all supported driver commands.\n\nReturns a list of command types that can be sent to the /execute endpoint.",
                "operationId": "list_supported_commands_driver_commands_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "title": "Response List Supported Commands Driver Commands Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/s3/{bucket}/{key}": {
            "get": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "GetObject",
                "description": "Download an object from the bucket. Supports pre-signed URLs.",
                "operationId": "get_object_s3__bucket___key__get",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket"
                        }
                    },
                    {
                        "name": "key",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Object content",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Missing authentication"
                    },
                    "403": {
                        "description": "Forbidden - Invalid signature or access denied"
                    },
                    "404": {
                        "description": "NoSuchKey - Object not found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "PutObject",
                "description": "Upload an object to the bucket. Supports pre-signed URLs.",
                "operationId": "put_object_s3__bucket___key__put",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket"
                        }
                    },
                    {
                        "name": "key",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Object created successfully",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "400": {
                        "description": "BadDigest - Content-MD5 mismatch"
                    },
                    "401": {
                        "description": "Unauthorized - Missing authentication"
                    },
                    "403": {
                        "description": "Forbidden - Invalid signature or access denied"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "DeleteObject",
                "description": "Delete an object from the bucket. Supports pre-signed URLs.",
                "operationId": "delete_object_s3__bucket___key__delete",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket"
                        }
                    },
                    {
                        "name": "key",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key"
                        }
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "204": {
                        "description": "Object deleted successfully"
                    },
                    "401": {
                        "description": "Unauthorized - Missing authentication"
                    },
                    "403": {
                        "description": "Forbidden - Invalid signature or access denied"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "head": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "HeadObject",
                "description": "Get metadata about an object without downloading it. Supports pre-signed URLs.",
                "operationId": "head_object_s3__bucket___key__head",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Bucket"
                        }
                    },
                    {
                        "name": "key",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Key"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Object metadata",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Missing authentication"
                    },
                    "403": {
                        "description": "Forbidden - Invalid signature or access denied"
                    },
                    "404": {
                        "description": "NoSuchKey - Object not found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/s3/{bucket}": {
            "get": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "ListObjectsV2",
                "description": "List objects in a bucket.",
                "operationId": "list_objects_v2_s3__bucket__get",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "S3 bucket name (project_id or project_{id})",
                            "title": "Bucket"
                        },
                        "description": "S3 bucket name (project_id or project_{id})"
                    },
                    {
                        "name": "list-type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 2,
                            "title": "List-Type"
                        }
                    },
                    {
                        "name": "prefix",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "",
                            "title": "Prefix"
                        }
                    },
                    {
                        "name": "delimiter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "",
                            "title": "Delimiter"
                        }
                    },
                    {
                        "name": "max-keys",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 1000,
                            "minimum": 1,
                            "default": 1000,
                            "title": "Max-Keys"
                        }
                    },
                    {
                        "name": "continuation-token",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "title": "Continuation-Token"
                        }
                    },
                    {
                        "name": "start-after",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "title": "Start-After"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "XML list of objects",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "404": {
                        "description": "NoSuchBucket - Bucket not found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/s3/{bucket}/presign": {
            "post": {
                "tags": [
                    "s3-compat"
                ],
                "summary": "Generate Pre-signed URL",
                "description": "Generate a pre-signed URL for S3 operations.",
                "operationId": "create_presigned_url_s3__bucket__presign_post",
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "S3 bucket name (project_id or project_{id})",
                            "title": "Bucket"
                        },
                        "description": "S3 bucket name (project_id or project_{id})"
                    },
                    {
                        "name": "X-Idempotency-Key",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional unique key for idempotent requests. If provided, the response is cached for 10 minutes. Subsequent requests with the same key return the cached response."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PresignRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Pre-signed URL generated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PresignResponse"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied"
                    },
                    "404": {
                        "description": "NoSuchBucket - Bucket not found"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/metrics": {
            "get": {
                "tags": [
                    "metrics"
                ],
                "summary": "Prometheus metrics endpoint",
                "description": "Returns metrics in Prometheus text format for scraping.",
                "operationId": "get_metrics_metrics_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AddColumnRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Column name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "DuckDB data type (VARCHAR, INTEGER, DOUBLE, BOOLEAN, TIMESTAMP, etc.)"
                    },
                    "nullable": {
                        "type": "boolean",
                        "title": "Nullable",
                        "description": "Whether column allows NULL values",
                        "default": true
                    },
                    "default": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default",
                        "description": "Default value expression"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "type"
                ],
                "title": "AddColumnRequest",
                "description": "Request to add a column to a table."
            },
            "AlterColumnRequest": {
                "properties": {
                    "new_name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "New Name",
                        "description": "New column name (for rename)"
                    },
                    "new_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "New Type",
                        "description": "New data type (for type change)"
                    },
                    "set_not_null": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Set Not Null",
                        "description": "Set NOT NULL constraint (True) or DROP NOT NULL (False)"
                    },
                    "set_default": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Set Default",
                        "description": "New default value expression (use empty string to drop)"
                    }
                },
                "type": "object",
                "title": "AlterColumnRequest",
                "description": "Request to alter a column in a table."
            },
            "ApiKeyCreateRequest": {
                "properties": {
                    "description": {
                        "type": "string",
                        "title": "Description",
                        "description": "Description of the API key purpose"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID for branch-scoped keys"
                    },
                    "scope": {
                        "type": "string",
                        "enum": [
                            "project_admin",
                            "branch_admin",
                            "branch_read"
                        ],
                        "title": "Scope",
                        "description": "Key scope: project_admin (default), branch_admin, or branch_read",
                        "default": "project_admin"
                    },
                    "expires_in_days": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "maximum": 365.0,
                                "minimum": 1.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires In Days",
                        "description": "Expiration in days (1-365, optional)"
                    }
                },
                "type": "object",
                "required": [
                    "description"
                ],
                "title": "ApiKeyCreateRequest",
                "description": "Request to create a new API key."
            },
            "ApiKeyCreateResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "API key identifier"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID (null for project-wide keys)"
                    },
                    "key_prefix": {
                        "type": "string",
                        "title": "Key Prefix",
                        "description": "Key prefix for identification"
                    },
                    "scope": {
                        "type": "string",
                        "title": "Scope",
                        "description": "Key scope (project_admin, branch_admin, branch_read)"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Key description"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp (ISO)"
                    },
                    "api_key": {
                        "type": "string",
                        "title": "Api Key",
                        "description": "Full API key - SAVE THIS! It will not be shown again."
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "key_prefix",
                    "scope",
                    "api_key"
                ],
                "title": "ApiKeyCreateResponse",
                "description": "Response for API key creation - includes raw key (shown only once)."
            },
            "ApiKeyListResponse": {
                "properties": {
                    "api_keys": {
                        "items": {
                            "$ref": "#/components/schemas/ApiKeyResponse"
                        },
                        "type": "array",
                        "title": "Api Keys",
                        "description": "List of API keys"
                    },
                    "count": {
                        "type": "integer",
                        "title": "Count",
                        "description": "Total number of API keys"
                    }
                },
                "type": "object",
                "required": [
                    "api_keys",
                    "count"
                ],
                "title": "ApiKeyListResponse",
                "description": "List of API keys response."
            },
            "ApiKeyResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "API key identifier"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID (null for project-wide keys)"
                    },
                    "key_prefix": {
                        "type": "string",
                        "title": "Key Prefix",
                        "description": "Key prefix for identification"
                    },
                    "scope": {
                        "type": "string",
                        "title": "Scope",
                        "description": "Key scope (project_admin, branch_admin, branch_read)"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Key description"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "last_used_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Used At",
                        "description": "Last usage timestamp (ISO)"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp (ISO)"
                    },
                    "is_revoked": {
                        "type": "boolean",
                        "title": "Is Revoked",
                        "description": "Whether the key is revoked",
                        "default": false
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "key_prefix",
                    "scope"
                ],
                "title": "ApiKeyResponse",
                "description": "API key information response (without raw key)."
            },
            "Body_upload_file_projects__project_id__files_upload__upload_key__post": {
                "properties": {
                    "file": {
                        "type": "string",
                        "format": "binary",
                        "title": "File"
                    }
                },
                "type": "object",
                "required": [
                    "file"
                ],
                "title": "Body_upload_file_projects__project_id__files_upload__upload_key__post"
            },
            "BranchCreateRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Branch name"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Optional description"
                    }
                },
                "type": "object",
                "required": [
                    "name"
                ],
                "title": "BranchCreateRequest",
                "description": "Request to create a dev branch."
            },
            "BranchDetailResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At"
                    },
                    "created_by": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created By"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables copied to branch",
                        "default": 0
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Total size of branch tables",
                        "default": 0
                    },
                    "copied_tables": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Copied Tables",
                        "description": "List of tables that have been copied to branch (CoW triggered)"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "name",
                    "created_at",
                    "created_by",
                    "description"
                ],
                "title": "BranchDetailResponse",
                "description": "Detailed branch response including copied tables list."
            },
            "BranchListResponse": {
                "properties": {
                    "branches": {
                        "items": {
                            "$ref": "#/components/schemas/BranchResponse"
                        },
                        "type": "array",
                        "title": "Branches"
                    },
                    "count": {
                        "type": "integer",
                        "title": "Count"
                    }
                },
                "type": "object",
                "required": [
                    "branches",
                    "count"
                ],
                "title": "BranchListResponse",
                "description": "Response for listing branches."
            },
            "BranchResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At"
                    },
                    "created_by": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created By"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables copied to branch",
                        "default": 0
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Total size of branch tables",
                        "default": 0
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "name",
                    "created_at",
                    "created_by",
                    "description"
                ],
                "title": "BranchResponse",
                "description": "Response for a single branch."
            },
            "BucketCreate": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Bucket name (will be used as DuckDB schema name)"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Bucket description"
                    }
                },
                "type": "object",
                "required": [
                    "name"
                ],
                "title": "BucketCreate",
                "description": "Request to create a new bucket."
            },
            "BucketLinkRequest": {
                "properties": {
                    "source_project_id": {
                        "type": "string",
                        "title": "Source Project Id",
                        "description": "ID of source project"
                    },
                    "source_bucket_name": {
                        "type": "string",
                        "title": "Source Bucket Name",
                        "description": "Name of bucket in source project"
                    }
                },
                "type": "object",
                "required": [
                    "source_project_id",
                    "source_bucket_name"
                ],
                "title": "BucketLinkRequest",
                "description": "Request to link a bucket from another project."
            },
            "BucketListResponse": {
                "properties": {
                    "buckets": {
                        "items": {
                            "$ref": "#/components/schemas/BucketResponse"
                        },
                        "type": "array",
                        "title": "Buckets",
                        "description": "List of buckets"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Total number of buckets"
                    }
                },
                "type": "object",
                "required": [
                    "buckets",
                    "total"
                ],
                "title": "BucketListResponse",
                "description": "List of buckets response."
            },
            "BucketResponse": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Bucket name (schema name)"
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables in bucket",
                        "default": 0
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Bucket description"
                    }
                },
                "type": "object",
                "required": [
                    "name"
                ],
                "title": "BucketResponse",
                "description": "Bucket information response."
            },
            "BucketShareInfo": {
                "properties": {
                    "shared_with": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Shared With",
                        "description": "List of project IDs this bucket is shared with"
                    },
                    "is_linked": {
                        "type": "boolean",
                        "title": "Is Linked",
                        "description": "Whether this is a linked bucket",
                        "default": false
                    },
                    "source_project_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Source Project Id",
                        "description": "Source project ID if linked"
                    },
                    "source_bucket_name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Source Bucket Name",
                        "description": "Source bucket name if linked"
                    }
                },
                "type": "object",
                "title": "BucketShareInfo",
                "description": "Information about a shared bucket."
            },
            "BucketShareRequest": {
                "properties": {
                    "target_project_id": {
                        "type": "string",
                        "title": "Target Project Id",
                        "description": "ID of project to share with"
                    }
                },
                "type": "object",
                "required": [
                    "target_project_id"
                ],
                "title": "BucketShareRequest",
                "description": "Request to share a bucket."
            },
            "ColumnDefinition": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Column name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "DuckDB data type (VARCHAR, INTEGER, DOUBLE, BOOLEAN, TIMESTAMP, etc.)"
                    },
                    "nullable": {
                        "type": "boolean",
                        "title": "Nullable",
                        "description": "Whether column allows NULL values",
                        "default": true
                    },
                    "default": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Default",
                        "description": "Default value expression"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "type"
                ],
                "title": "ColumnDefinition",
                "description": "Column definition for table creation."
            },
            "ColumnInfo": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Column name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "DuckDB data type"
                    },
                    "nullable": {
                        "type": "boolean",
                        "title": "Nullable",
                        "description": "Whether column allows NULL values"
                    },
                    "ordinal_position": {
                        "type": "integer",
                        "title": "Ordinal Position",
                        "description": "Column position (1-based)"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "type",
                    "nullable",
                    "ordinal_position"
                ],
                "title": "ColumnInfo",
                "description": "Column information from existing table."
            },
            "ColumnStatistics": {
                "properties": {
                    "column_name": {
                        "type": "string",
                        "title": "Column Name",
                        "description": "Column name"
                    },
                    "column_type": {
                        "type": "string",
                        "title": "Column Type",
                        "description": "Column data type"
                    },
                    "min": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Min",
                        "description": "Minimum value"
                    },
                    "max": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Max",
                        "description": "Maximum value"
                    },
                    "approx_unique": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Approx Unique",
                        "description": "Approximate unique count"
                    },
                    "avg": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Avg",
                        "description": "Average value (numeric columns)"
                    },
                    "std": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Std",
                        "description": "Standard deviation (numeric columns)"
                    },
                    "q25": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Q25",
                        "description": "25th percentile"
                    },
                    "q50": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Q50",
                        "description": "50th percentile (median)"
                    },
                    "q75": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Q75",
                        "description": "75th percentile"
                    },
                    "count": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Count",
                        "description": "Non-null count"
                    },
                    "null_percentage": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Null Percentage",
                        "description": "Percentage of null values"
                    }
                },
                "type": "object",
                "required": [
                    "column_name",
                    "column_type"
                ],
                "title": "ColumnStatistics",
                "description": "Statistics for a single column from SUMMARIZE."
            },
            "CsvOptions": {
                "properties": {
                    "delimiter": {
                        "type": "string",
                        "title": "Delimiter",
                        "description": "Field delimiter character",
                        "default": ","
                    },
                    "quote": {
                        "type": "string",
                        "title": "Quote",
                        "description": "Quote character",
                        "default": "\""
                    },
                    "escape": {
                        "type": "string",
                        "title": "Escape",
                        "description": "Escape character",
                        "default": "\\"
                    },
                    "header": {
                        "type": "boolean",
                        "title": "Header",
                        "description": "Whether CSV has header row",
                        "default": true
                    },
                    "null_string": {
                        "type": "string",
                        "title": "Null String",
                        "description": "String representing NULL values",
                        "default": ""
                    }
                },
                "type": "object",
                "title": "CsvOptions",
                "description": "CSV format options for import/export."
            },
            "DeleteRowsRequest": {
                "properties": {
                    "where_clause": {
                        "type": "string",
                        "title": "Where Clause",
                        "description": "SQL WHERE clause condition (without 'WHERE' keyword). Example: \"status = 'deleted'\" or \"created_at < '2024-01-01'\""
                    }
                },
                "type": "object",
                "required": [
                    "where_clause"
                ],
                "title": "DeleteRowsRequest",
                "description": "Request to delete rows from a table."
            },
            "DeleteRowsResponse": {
                "properties": {
                    "deleted_rows": {
                        "type": "integer",
                        "title": "Deleted Rows",
                        "description": "Number of rows deleted"
                    },
                    "table_rows_after": {
                        "type": "integer",
                        "title": "Table Rows After",
                        "description": "Total rows remaining in table"
                    }
                },
                "type": "object",
                "required": [
                    "deleted_rows",
                    "table_rows_after"
                ],
                "title": "DeleteRowsResponse",
                "description": "Response for delete rows operation."
            },
            "DriverExecuteRequest": {
                "properties": {
                    "command": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Command"
                    },
                    "credentials": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Credentials"
                    },
                    "features": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Features"
                    },
                    "runtimeOptions": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Runtimeoptions"
                    }
                },
                "type": "object",
                "required": [
                    "command"
                ],
                "title": "DriverExecuteRequest",
                "description": "Request model for driver execute endpoint.\n\nMirrors the gRPC DriverRequest structure:\n- command: The command to execute (as JSON with @type field)\n- credentials: Optional credentials (as JSON)\n- features: Optional list of enabled features\n- runtimeOptions: Optional runtime options"
            },
            "DriverExecuteResponse": {
                "properties": {
                    "commandResponse": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Commandresponse"
                    },
                    "messages": {
                        "items": {
                            "$ref": "#/components/schemas/LogMessageResponse"
                        },
                        "type": "array",
                        "title": "Messages",
                        "default": []
                    }
                },
                "type": "object",
                "title": "DriverExecuteResponse",
                "description": "Response model for driver execute endpoint.\n\nMirrors the gRPC DriverResponse structure:\n- commandResponse: The command-specific response (as JSON with @type field)\n- messages: Log messages from the driver"
            },
            "ErrorResponse": {
                "properties": {
                    "error": {
                        "type": "string",
                        "title": "Error",
                        "description": "Error type"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Error message"
                    },
                    "details": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Details",
                        "description": "Additional error details"
                    }
                },
                "type": "object",
                "required": [
                    "error",
                    "message"
                ],
                "title": "ErrorResponse",
                "description": "Standard error response."
            },
            "ExportRequest": {
                "properties": {
                    "format": {
                        "type": "string",
                        "title": "Format",
                        "description": "Export format: 'csv' or 'parquet'",
                        "default": "csv"
                    },
                    "compression": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Compression",
                        "description": "Compression: 'gzip' for CSV, 'gzip'/'zstd'/'snappy' for Parquet"
                    },
                    "columns": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Columns",
                        "description": "Specific columns to export (None = all columns)"
                    },
                    "where_filter": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Where Filter",
                        "description": "SQL WHERE clause to filter rows (without 'WHERE' keyword)"
                    },
                    "limit": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Limit",
                        "description": "Maximum number of rows to export"
                    }
                },
                "type": "object",
                "title": "ExportRequest",
                "description": "Request to export table data to a file."
            },
            "ExportResponse": {
                "properties": {
                    "file_id": {
                        "type": "string",
                        "title": "File Id",
                        "description": "ID of the exported file (use Files API to download)"
                    },
                    "file_path": {
                        "type": "string",
                        "title": "File Path",
                        "description": "Relative path to exported file"
                    },
                    "rows_exported": {
                        "type": "integer",
                        "title": "Rows Exported",
                        "description": "Number of rows exported"
                    },
                    "file_size_bytes": {
                        "type": "integer",
                        "title": "File Size Bytes",
                        "description": "Size of exported file"
                    }
                },
                "type": "object",
                "required": [
                    "file_id",
                    "file_path",
                    "rows_exported",
                    "file_size_bytes"
                ],
                "title": "ExportResponse",
                "description": "Response for export operation."
            },
            "FileListResponse": {
                "properties": {
                    "files": {
                        "items": {
                            "$ref": "#/components/schemas/FileResponse"
                        },
                        "type": "array",
                        "title": "Files",
                        "description": "List of files"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Total number of files"
                    }
                },
                "type": "object",
                "required": [
                    "files",
                    "total"
                ],
                "title": "FileListResponse",
                "description": "List of files response."
            },
            "FilePrepareRequest": {
                "properties": {
                    "filename": {
                        "type": "string",
                        "title": "Filename",
                        "description": "Original filename"
                    },
                    "content_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Content Type",
                        "description": "MIME type (e.g., 'text/csv', 'application/x-parquet')"
                    },
                    "size_bytes": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Size Bytes",
                        "description": "Expected file size in bytes (optional, for validation)"
                    },
                    "tags": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tags",
                        "description": "Optional tags/metadata for the file"
                    }
                },
                "type": "object",
                "required": [
                    "filename"
                ],
                "title": "FilePrepareRequest",
                "description": "Request to prepare a file upload."
            },
            "FilePrepareResponse": {
                "properties": {
                    "upload_key": {
                        "type": "string",
                        "title": "Upload Key",
                        "description": "Unique key for the upload session"
                    },
                    "upload_url": {
                        "type": "string",
                        "title": "Upload Url",
                        "description": "URL to upload the file to"
                    },
                    "expires_at": {
                        "type": "string",
                        "title": "Expires At",
                        "description": "When the upload session expires (ISO timestamp)"
                    }
                },
                "type": "object",
                "required": [
                    "upload_key",
                    "upload_url",
                    "expires_at"
                ],
                "title": "FilePrepareResponse",
                "description": "Response for file upload preparation."
            },
            "FileRegisterRequest": {
                "properties": {
                    "upload_key": {
                        "type": "string",
                        "title": "Upload Key",
                        "description": "The upload key from prepare step"
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Final filename (defaults to original filename)"
                    },
                    "tags": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tags",
                        "description": "Optional tags/metadata for the file"
                    }
                },
                "type": "object",
                "required": [
                    "upload_key"
                ],
                "title": "FileRegisterRequest",
                "description": "Request to register an uploaded file."
            },
            "FileResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Unique file identifier"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project the file belongs to"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Filename"
                    },
                    "path": {
                        "type": "string",
                        "title": "Path",
                        "description": "Relative path in storage"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "File size in bytes"
                    },
                    "content_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Content Type",
                        "description": "MIME type"
                    },
                    "checksum_sha256": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Checksum Sha256",
                        "description": "SHA256 checksum"
                    },
                    "is_staged": {
                        "type": "boolean",
                        "title": "Is Staged",
                        "description": "Whether file is still in staging"
                    },
                    "created_at": {
                        "type": "string",
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp for staging files (ISO)"
                    },
                    "tags": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tags",
                        "description": "File tags/metadata"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "name",
                    "path",
                    "size_bytes",
                    "is_staged",
                    "created_at"
                ],
                "title": "FileResponse",
                "description": "File information response."
            },
            "FileUploadResponse": {
                "properties": {
                    "upload_key": {
                        "type": "string",
                        "title": "Upload Key",
                        "description": "Upload key for registration"
                    },
                    "staging_path": {
                        "type": "string",
                        "title": "Staging Path",
                        "description": "Path in staging area"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Uploaded file size"
                    },
                    "checksum_sha256": {
                        "type": "string",
                        "title": "Checksum Sha256",
                        "description": "SHA256 checksum of uploaded file"
                    }
                },
                "type": "object",
                "required": [
                    "upload_key",
                    "staging_path",
                    "size_bytes",
                    "checksum_sha256"
                ],
                "title": "FileUploadResponse",
                "description": "Response after successful file upload."
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "HealthResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Service status: 'healthy' or 'unhealthy'"
                    },
                    "version": {
                        "type": "string",
                        "title": "Version",
                        "description": "API version"
                    },
                    "storage_available": {
                        "type": "boolean",
                        "title": "Storage Available",
                        "description": "Whether storage paths are accessible"
                    },
                    "details": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "boolean"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Details",
                        "description": "Detailed status of each storage path"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "version",
                    "storage_available"
                ],
                "title": "HealthResponse",
                "description": "Health check response."
            },
            "ImportFromFileRequest": {
                "properties": {
                    "file_id": {
                        "type": "string",
                        "title": "File Id",
                        "description": "ID of file to import (from Files API)"
                    },
                    "format": {
                        "type": "string",
                        "title": "Format",
                        "description": "File format: 'csv' or 'parquet'",
                        "default": "csv"
                    },
                    "csv_options": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CsvOptions"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "CSV-specific options (only for CSV format)"
                    },
                    "import_options": {
                        "$ref": "#/components/schemas/ImportOptions",
                        "description": "Import behavior options"
                    }
                },
                "type": "object",
                "required": [
                    "file_id"
                ],
                "title": "ImportFromFileRequest",
                "description": "Request to import data from a file into a table."
            },
            "ImportOptions": {
                "properties": {
                    "incremental": {
                        "type": "boolean",
                        "title": "Incremental",
                        "description": "If False, truncate table before import. If True, merge/upsert.",
                        "default": false
                    },
                    "dedup_mode": {
                        "type": "string",
                        "title": "Dedup Mode",
                        "description": "How to handle duplicates: 'update_duplicates', 'insert_duplicates', 'fail_on_duplicates'",
                        "default": "update_duplicates"
                    },
                    "columns": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Columns",
                        "description": "Specific columns to import (None = all columns)"
                    }
                },
                "type": "object",
                "title": "ImportOptions",
                "description": "Options for table import."
            },
            "ImportResponse": {
                "properties": {
                    "imported_rows": {
                        "type": "integer",
                        "title": "Imported Rows",
                        "description": "Number of rows imported"
                    },
                    "table_rows_after": {
                        "type": "integer",
                        "title": "Table Rows After",
                        "description": "Total rows in table after import"
                    },
                    "table_size_bytes": {
                        "type": "integer",
                        "title": "Table Size Bytes",
                        "description": "Table size after import"
                    },
                    "warnings": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Warnings",
                        "description": "Any warnings during import"
                    }
                },
                "type": "object",
                "required": [
                    "imported_rows",
                    "table_rows_after",
                    "table_size_bytes"
                ],
                "title": "ImportResponse",
                "description": "Response for import operation."
            },
            "InitBackendResponse": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Whether initialization was successful"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Status message"
                    },
                    "storage_paths": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Storage Paths",
                        "description": "Configured storage paths"
                    }
                },
                "type": "object",
                "required": [
                    "success",
                    "message"
                ],
                "title": "InitBackendResponse",
                "description": "Response for backend initialization."
            },
            "LogMessageResponse": {
                "properties": {
                    "level": {
                        "type": "string",
                        "title": "Level"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message"
                    }
                },
                "type": "object",
                "required": [
                    "level",
                    "message"
                ],
                "title": "LogMessageResponse",
                "description": "Log message from driver execution."
            },
            "PGWireAuthRequest": {
                "properties": {
                    "username": {
                        "type": "string",
                        "title": "Username",
                        "description": "Workspace username (ws_xxx_xxx)"
                    },
                    "password": {
                        "type": "string",
                        "title": "Password",
                        "description": "Workspace password"
                    },
                    "client_ip": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Client Ip",
                        "description": "Client IP address"
                    }
                },
                "type": "object",
                "required": [
                    "username",
                    "password"
                ],
                "title": "PGWireAuthRequest",
                "description": "Request from PG Wire server to authenticate a user."
            },
            "PGWireAuthResponse": {
                "properties": {
                    "workspace_id": {
                        "type": "string",
                        "title": "Workspace Id",
                        "description": "Workspace ID"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID (null for main)"
                    },
                    "db_path": {
                        "type": "string",
                        "title": "Db Path",
                        "description": "Path to workspace DuckDB file"
                    },
                    "tables": {
                        "items": {
                            "$ref": "#/components/schemas/PGWireTableInfo"
                        },
                        "type": "array",
                        "title": "Tables",
                        "description": "Tables to ATTACH"
                    },
                    "memory_limit": {
                        "type": "string",
                        "title": "Memory Limit",
                        "description": "Memory limit for session",
                        "default": "4GB"
                    },
                    "query_timeout_seconds": {
                        "type": "integer",
                        "title": "Query Timeout Seconds",
                        "description": "Query timeout",
                        "default": 300
                    }
                },
                "type": "object",
                "required": [
                    "workspace_id",
                    "project_id",
                    "db_path"
                ],
                "title": "PGWireAuthResponse",
                "description": "Response with workspace info for session initialization."
            },
            "PGWireSessionCreateRequest": {
                "properties": {
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session ID from PG Wire server"
                    },
                    "workspace_id": {
                        "type": "string",
                        "title": "Workspace Id",
                        "description": "Workspace ID"
                    },
                    "client_ip": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Client Ip",
                        "description": "Client IP address"
                    }
                },
                "type": "object",
                "required": [
                    "session_id",
                    "workspace_id"
                ],
                "title": "PGWireSessionCreateRequest",
                "description": "Request to create/register a session."
            },
            "PGWireSessionInfo": {
                "properties": {
                    "session_id": {
                        "type": "string",
                        "title": "Session Id",
                        "description": "Session ID"
                    },
                    "workspace_id": {
                        "type": "string",
                        "title": "Workspace Id",
                        "description": "Workspace ID"
                    },
                    "client_ip": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Client Ip",
                        "description": "Client IP"
                    },
                    "connected_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Connected At",
                        "description": "Connection timestamp"
                    },
                    "last_activity_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Activity At",
                        "description": "Last activity timestamp"
                    },
                    "query_count": {
                        "type": "integer",
                        "title": "Query Count",
                        "description": "Number of queries executed",
                        "default": 0
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Session status",
                        "default": "active"
                    }
                },
                "type": "object",
                "required": [
                    "session_id",
                    "workspace_id"
                ],
                "title": "PGWireSessionInfo",
                "description": "Information about a PG Wire session."
            },
            "PGWireSessionUpdateRequest": {
                "properties": {
                    "increment_queries": {
                        "type": "boolean",
                        "title": "Increment Queries",
                        "description": "Increment query count",
                        "default": true
                    }
                },
                "type": "object",
                "title": "PGWireSessionUpdateRequest",
                "description": "Request to update session activity."
            },
            "PGWireTableInfo": {
                "properties": {
                    "bucket": {
                        "type": "string",
                        "title": "Bucket",
                        "description": "Bucket name"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Table name"
                    },
                    "path": {
                        "type": "string",
                        "title": "Path",
                        "description": "Path to DuckDB file"
                    },
                    "rows": {
                        "type": "integer",
                        "title": "Rows",
                        "description": "Row count",
                        "default": 0
                    }
                },
                "type": "object",
                "required": [
                    "bucket",
                    "name",
                    "path"
                ],
                "title": "PGWireTableInfo",
                "description": "Information about a table to attach."
            },
            "PresignMethod": {
                "type": "string",
                "enum": [
                    "GET",
                    "PUT",
                    "DELETE",
                    "HEAD"
                ],
                "title": "PresignMethod",
                "description": "HTTP methods that can be pre-signed."
            },
            "PresignRequest": {
                "properties": {
                    "key": {
                        "type": "string",
                        "title": "Key",
                        "description": "The object key (path)"
                    },
                    "method": {
                        "$ref": "#/components/schemas/PresignMethod",
                        "description": "HTTP method",
                        "default": "GET"
                    },
                    "expires_in": {
                        "type": "integer",
                        "maximum": 604800.0,
                        "minimum": 1.0,
                        "title": "Expires In",
                        "description": "URL expiry in seconds (1-604800, default 3600)",
                        "default": 3600
                    },
                    "content_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Content Type",
                        "description": "Content-Type for PUT requests"
                    }
                },
                "type": "object",
                "required": [
                    "key"
                ],
                "title": "PresignRequest",
                "description": "Request body for generating pre-signed URLs."
            },
            "PresignResponse": {
                "properties": {
                    "url": {
                        "type": "string",
                        "title": "Url",
                        "description": "The pre-signed URL"
                    },
                    "expires_at": {
                        "type": "string",
                        "title": "Expires At",
                        "description": "Expiration timestamp (ISO 8601)"
                    },
                    "method": {
                        "type": "string",
                        "title": "Method",
                        "description": "HTTP method this URL is valid for"
                    }
                },
                "type": "object",
                "required": [
                    "url",
                    "expires_at",
                    "method"
                ],
                "title": "PresignResponse",
                "description": "Response from pre-signed URL generation."
            },
            "ProjectCreate": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Unique project identifier (from Keboola Connection)"
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Human-readable project name"
                    },
                    "settings": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Settings",
                        "description": "Project-specific settings"
                    }
                },
                "type": "object",
                "required": [
                    "id"
                ],
                "title": "ProjectCreate",
                "description": "Request to create a new project."
            },
            "ProjectCreateResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Project identifier"
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Project name"
                    },
                    "db_path": {
                        "type": "string",
                        "title": "Db Path",
                        "description": "Relative path to DuckDB file"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At",
                        "description": "Last update timestamp (ISO)"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Database file size in bytes",
                        "default": 0
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables",
                        "default": 0
                    },
                    "bucket_count": {
                        "type": "integer",
                        "title": "Bucket Count",
                        "description": "Number of buckets/schemas",
                        "default": 0
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Project status",
                        "default": "active"
                    },
                    "settings": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Settings",
                        "description": "Project settings"
                    },
                    "api_key": {
                        "type": "string",
                        "title": "Api Key",
                        "description": "Project admin API key - SAVE THIS! It will not be shown again."
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "db_path",
                    "api_key"
                ],
                "title": "ProjectCreateResponse",
                "description": "Response for project creation - includes API key (shown only once)."
            },
            "ProjectListResponse": {
                "properties": {
                    "projects": {
                        "items": {
                            "$ref": "#/components/schemas/ProjectResponse"
                        },
                        "type": "array",
                        "title": "Projects",
                        "description": "List of projects"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Total number of projects matching filter"
                    }
                },
                "type": "object",
                "required": [
                    "projects",
                    "total"
                ],
                "title": "ProjectListResponse",
                "description": "List of projects response."
            },
            "ProjectResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Project identifier"
                    },
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Project name"
                    },
                    "db_path": {
                        "type": "string",
                        "title": "Db Path",
                        "description": "Relative path to DuckDB file"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At",
                        "description": "Last update timestamp (ISO)"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Database file size in bytes",
                        "default": 0
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables",
                        "default": 0
                    },
                    "bucket_count": {
                        "type": "integer",
                        "title": "Bucket Count",
                        "description": "Number of buckets/schemas",
                        "default": 0
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Project status",
                        "default": "active"
                    },
                    "settings": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Settings",
                        "description": "Project settings"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "db_path"
                ],
                "title": "ProjectResponse",
                "description": "Project information response."
            },
            "ProjectStatsResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Project identifier"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Database file size in bytes"
                    },
                    "table_count": {
                        "type": "integer",
                        "title": "Table Count",
                        "description": "Number of tables"
                    },
                    "bucket_count": {
                        "type": "integer",
                        "title": "Bucket Count",
                        "description": "Number of buckets/schemas"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "size_bytes",
                    "table_count",
                    "bucket_count"
                ],
                "title": "ProjectStatsResponse",
                "description": "Project statistics response."
            },
            "ProjectUpdate": {
                "properties": {
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Updated project name"
                    },
                    "settings": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Settings",
                        "description": "Updated project settings"
                    }
                },
                "type": "object",
                "title": "ProjectUpdate",
                "description": "Request to update a project."
            },
            "PullTableResponse": {
                "properties": {
                    "bucket_name": {
                        "type": "string",
                        "title": "Bucket Name"
                    },
                    "table_name": {
                        "type": "string",
                        "title": "Table Name"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Confirmation message"
                    },
                    "was_local": {
                        "type": "boolean",
                        "title": "Was Local",
                        "description": "Whether table was in branch before pull"
                    }
                },
                "type": "object",
                "required": [
                    "bucket_name",
                    "table_name",
                    "message",
                    "was_local"
                ],
                "title": "PullTableResponse",
                "description": "Response for pull table operation."
            },
            "SetPrimaryKeyRequest": {
                "properties": {
                    "columns": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "minItems": 1,
                        "title": "Columns",
                        "description": "List of column names to form the primary key"
                    }
                },
                "type": "object",
                "required": [
                    "columns"
                ],
                "title": "SetPrimaryKeyRequest",
                "description": "Request to set primary key on a table."
            },
            "SnapshotConfigRequest": {
                "properties": {
                    "auto_snapshot_triggers": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SnapshotTriggersConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Automatic snapshot trigger settings"
                    },
                    "retention": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SnapshotRetentionConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Retention period settings"
                    },
                    "enabled": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Enabled",
                        "description": "Master switch to enable/disable snapshots"
                    }
                },
                "type": "object",
                "title": "SnapshotConfigRequest",
                "description": "Request to update snapshot configuration."
            },
            "SnapshotCreateRequest": {
                "properties": {
                    "bucket": {
                        "type": "string",
                        "title": "Bucket",
                        "description": "Bucket containing the table"
                    },
                    "table": {
                        "type": "string",
                        "title": "Table",
                        "description": "Table name to snapshot"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Optional description"
                    }
                },
                "type": "object",
                "required": [
                    "bucket",
                    "table"
                ],
                "title": "SnapshotCreateRequest",
                "description": "Request to create a manual snapshot."
            },
            "SnapshotDetailResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Snapshot identifier"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "bucket_name": {
                        "type": "string",
                        "title": "Bucket Name",
                        "description": "Source bucket name"
                    },
                    "table_name": {
                        "type": "string",
                        "title": "Table Name",
                        "description": "Source table name"
                    },
                    "snapshot_type": {
                        "type": "string",
                        "title": "Snapshot Type",
                        "description": "'manual' or 'auto_*' type"
                    },
                    "row_count": {
                        "type": "integer",
                        "title": "Row Count",
                        "description": "Number of rows in snapshot"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Parquet file size"
                    },
                    "created_at": {
                        "type": "string",
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "created_by": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created By",
                        "description": "Who created the snapshot"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp (ISO)"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Optional description"
                    },
                    "schema_columns": {
                        "items": {
                            "$ref": "#/components/schemas/SnapshotSchemaColumn"
                        },
                        "type": "array",
                        "title": "Schema Columns",
                        "description": "Column definitions for restore"
                    },
                    "primary_key": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Primary Key",
                        "description": "Primary key columns"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "bucket_name",
                    "table_name",
                    "snapshot_type",
                    "row_count",
                    "size_bytes",
                    "created_at",
                    "schema_columns"
                ],
                "title": "SnapshotDetailResponse",
                "description": "Detailed snapshot information including schema."
            },
            "SnapshotListResponse": {
                "properties": {
                    "snapshots": {
                        "items": {
                            "$ref": "#/components/schemas/SnapshotResponse"
                        },
                        "type": "array",
                        "title": "Snapshots",
                        "description": "List of snapshots"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Total number of snapshots matching filter"
                    }
                },
                "type": "object",
                "required": [
                    "snapshots",
                    "total"
                ],
                "title": "SnapshotListResponse",
                "description": "List of snapshots response."
            },
            "SnapshotResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Snapshot identifier"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "bucket_name": {
                        "type": "string",
                        "title": "Bucket Name",
                        "description": "Source bucket name"
                    },
                    "table_name": {
                        "type": "string",
                        "title": "Table Name",
                        "description": "Source table name"
                    },
                    "snapshot_type": {
                        "type": "string",
                        "title": "Snapshot Type",
                        "description": "'manual' or 'auto_*' type"
                    },
                    "row_count": {
                        "type": "integer",
                        "title": "Row Count",
                        "description": "Number of rows in snapshot"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Parquet file size"
                    },
                    "created_at": {
                        "type": "string",
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "created_by": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created By",
                        "description": "Who created the snapshot"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp (ISO)"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Optional description"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "project_id",
                    "bucket_name",
                    "table_name",
                    "snapshot_type",
                    "row_count",
                    "size_bytes",
                    "created_at"
                ],
                "title": "SnapshotResponse",
                "description": "Snapshot information response."
            },
            "SnapshotRestoreRequest": {
                "properties": {
                    "target_bucket": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Target Bucket",
                        "description": "Target bucket (defaults to original)"
                    },
                    "target_table": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Target Table",
                        "description": "Target table name (defaults to original)"
                    }
                },
                "type": "object",
                "title": "SnapshotRestoreRequest",
                "description": "Request to restore from a snapshot."
            },
            "SnapshotRestoreResponse": {
                "properties": {
                    "restored_to": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Restored To",
                        "description": "Target location {'bucket': '...', 'table': '...'}"
                    },
                    "row_count": {
                        "type": "integer",
                        "title": "Row Count",
                        "description": "Number of rows restored"
                    }
                },
                "type": "object",
                "required": [
                    "restored_to",
                    "row_count"
                ],
                "title": "SnapshotRestoreResponse",
                "description": "Response for snapshot restore operation."
            },
            "SnapshotRetentionConfig": {
                "properties": {
                    "manual_days": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Manual Days",
                        "description": "Retention period for manual snapshots (days)"
                    },
                    "auto_days": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Auto Days",
                        "description": "Retention period for automatic snapshots (days)"
                    }
                },
                "type": "object",
                "title": "SnapshotRetentionConfig",
                "description": "Configuration for snapshot retention periods."
            },
            "SnapshotSchemaColumn": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Column name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "Column data type"
                    },
                    "nullable": {
                        "type": "boolean",
                        "title": "Nullable",
                        "description": "Whether column allows NULL"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "type",
                    "nullable"
                ],
                "title": "SnapshotSchemaColumn",
                "description": "Column definition in snapshot schema."
            },
            "SnapshotSettingsResponse": {
                "properties": {
                    "effective_config": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Effective Config",
                        "description": "Merged configuration after applying inheritance"
                    },
                    "inheritance": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Inheritance",
                        "description": "Source of each config value ('system', 'project', 'bucket', 'table')"
                    },
                    "local_config": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Local Config",
                        "description": "Only the locally set configuration (without inheritance)"
                    }
                },
                "type": "object",
                "required": [
                    "effective_config",
                    "inheritance"
                ],
                "title": "SnapshotSettingsResponse",
                "description": "Response with effective snapshot settings and inheritance info."
            },
            "SnapshotTriggersConfig": {
                "properties": {
                    "drop_table": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Drop Table",
                        "description": "Create snapshot before DROP TABLE"
                    },
                    "truncate_table": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Truncate Table",
                        "description": "Create snapshot before TRUNCATE"
                    },
                    "delete_all_rows": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Delete All Rows",
                        "description": "Create snapshot before DELETE FROM without WHERE"
                    },
                    "drop_column": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Drop Column",
                        "description": "Create snapshot before ALTER TABLE DROP COLUMN"
                    }
                },
                "additionalProperties": false,
                "type": "object",
                "title": "SnapshotTriggersConfig",
                "description": "Configuration for automatic snapshot triggers."
            },
            "TableCreate": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Table name"
                    },
                    "columns": {
                        "items": {
                            "$ref": "#/components/schemas/ColumnDefinition"
                        },
                        "type": "array",
                        "minItems": 1,
                        "title": "Columns",
                        "description": "List of column definitions"
                    },
                    "primary_key": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Primary Key",
                        "description": "List of column names forming the primary key"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "columns"
                ],
                "title": "TableCreate",
                "description": "Request to create a new table."
            },
            "TableListResponse": {
                "properties": {
                    "tables": {
                        "items": {
                            "$ref": "#/components/schemas/TableResponse"
                        },
                        "type": "array",
                        "title": "Tables",
                        "description": "List of tables"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Total number of tables"
                    }
                },
                "type": "object",
                "required": [
                    "tables",
                    "total"
                ],
                "title": "TableListResponse",
                "description": "List of tables response."
            },
            "TablePreviewResponse": {
                "properties": {
                    "columns": {
                        "items": {
                            "$ref": "#/components/schemas/ColumnInfo"
                        },
                        "type": "array",
                        "title": "Columns",
                        "description": "Column information"
                    },
                    "rows": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Rows",
                        "description": "Row data as list of dictionaries"
                    },
                    "total_row_count": {
                        "type": "integer",
                        "title": "Total Row Count",
                        "description": "Total rows in table"
                    },
                    "preview_row_count": {
                        "type": "integer",
                        "title": "Preview Row Count",
                        "description": "Number of rows in preview"
                    }
                },
                "type": "object",
                "required": [
                    "columns",
                    "rows",
                    "total_row_count",
                    "preview_row_count"
                ],
                "title": "TablePreviewResponse",
                "description": "Table preview response."
            },
            "TableProfileResponse": {
                "properties": {
                    "table_name": {
                        "type": "string",
                        "title": "Table Name",
                        "description": "Table name"
                    },
                    "bucket_name": {
                        "type": "string",
                        "title": "Bucket Name",
                        "description": "Bucket name"
                    },
                    "row_count": {
                        "type": "integer",
                        "title": "Row Count",
                        "description": "Total rows in table"
                    },
                    "column_count": {
                        "type": "integer",
                        "title": "Column Count",
                        "description": "Number of columns"
                    },
                    "statistics": {
                        "items": {
                            "$ref": "#/components/schemas/ColumnStatistics"
                        },
                        "type": "array",
                        "title": "Statistics",
                        "description": "Per-column statistics"
                    }
                },
                "type": "object",
                "required": [
                    "table_name",
                    "bucket_name",
                    "row_count",
                    "column_count",
                    "statistics"
                ],
                "title": "TableProfileResponse",
                "description": "Response for table profiling (SUMMARIZE)."
            },
            "TableResponse": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Table name"
                    },
                    "bucket": {
                        "type": "string",
                        "title": "Bucket",
                        "description": "Bucket (schema) name"
                    },
                    "columns": {
                        "items": {
                            "$ref": "#/components/schemas/ColumnInfo"
                        },
                        "type": "array",
                        "title": "Columns",
                        "description": "List of columns"
                    },
                    "row_count": {
                        "type": "integer",
                        "title": "Row Count",
                        "description": "Number of rows in table"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Estimated table size in bytes",
                        "default": 0
                    },
                    "primary_key": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Primary Key",
                        "description": "Primary key column names"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp (ISO)"
                    },
                    "source": {
                        "type": "string",
                        "enum": [
                            "main",
                            "branch"
                        ],
                        "title": "Source",
                        "description": "Data source: 'main' for production, 'branch' for CoW copy",
                        "default": "main"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "bucket",
                    "columns",
                    "row_count"
                ],
                "title": "TableResponse",
                "description": "Table information response (ObjectInfo)."
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            },
            "WorkspaceConnectionInfo": {
                "properties": {
                    "host": {
                        "type": "string",
                        "title": "Host",
                        "description": "Database host"
                    },
                    "port": {
                        "type": "integer",
                        "title": "Port",
                        "description": "Database port",
                        "default": 5432
                    },
                    "database": {
                        "type": "string",
                        "title": "Database",
                        "description": "Database name"
                    },
                    "username": {
                        "type": "string",
                        "title": "Username",
                        "description": "Username"
                    },
                    "password": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Password",
                        "description": "Password (only shown on create)"
                    },
                    "ssl_mode": {
                        "type": "string",
                        "title": "Ssl Mode",
                        "description": "SSL mode",
                        "default": "prefer"
                    },
                    "connection_string": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Connection String",
                        "description": "Full connection string"
                    }
                },
                "type": "object",
                "required": [
                    "host",
                    "database",
                    "username"
                ],
                "title": "WorkspaceConnectionInfo",
                "description": "Connection information for workspace."
            },
            "WorkspaceCreateRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Workspace name"
                    },
                    "ttl_hours": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "maximum": 168.0,
                                "minimum": 1.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ttl Hours",
                        "description": "Time to live in hours (1-168), None for no expiration"
                    },
                    "size_limit_gb": {
                        "type": "integer",
                        "maximum": 100.0,
                        "minimum": 1.0,
                        "title": "Size Limit Gb",
                        "description": "Size limit in GB (1-100)",
                        "default": 10
                    },
                    "preload_tables": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Preload Tables",
                        "description": "Tables to preload (format: bucket.table)"
                    }
                },
                "type": "object",
                "required": [
                    "name"
                ],
                "title": "WorkspaceCreateRequest",
                "description": "Request to create a new workspace."
            },
            "WorkspaceDetailResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Workspace ID"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Workspace name"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID (null for main)"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Current size in bytes",
                        "default": 0
                    },
                    "size_limit_gb": {
                        "type": "integer",
                        "title": "Size Limit Gb",
                        "description": "Size limit in GB",
                        "default": 10
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Status: active, expired, error",
                        "default": "active"
                    },
                    "connection": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/WorkspaceConnectionInfo"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Connection info"
                    },
                    "active_sessions": {
                        "type": "integer",
                        "title": "Active Sessions",
                        "description": "Active session count",
                        "default": 0
                    },
                    "attached_tables": {
                        "items": {
                            "$ref": "#/components/schemas/WorkspaceTableInfo"
                        },
                        "type": "array",
                        "title": "Attached Tables",
                        "description": "Attached project tables"
                    },
                    "workspace_objects": {
                        "items": {
                            "$ref": "#/components/schemas/WorkspaceObjectInfo"
                        },
                        "type": "array",
                        "title": "Workspace Objects",
                        "description": "Objects in workspace"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "project_id"
                ],
                "title": "WorkspaceDetailResponse",
                "description": "Detailed workspace response including objects."
            },
            "WorkspaceListResponse": {
                "properties": {
                    "workspaces": {
                        "items": {
                            "$ref": "#/components/schemas/WorkspaceResponse"
                        },
                        "type": "array",
                        "title": "Workspaces"
                    },
                    "count": {
                        "type": "integer",
                        "title": "Count",
                        "description": "Total count",
                        "default": 0
                    }
                },
                "type": "object",
                "title": "WorkspaceListResponse",
                "description": "Response for listing workspaces."
            },
            "WorkspaceLoadRequest": {
                "properties": {
                    "tables": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Tables",
                        "description": "Tables to load with source, destination, columns, where"
                    }
                },
                "type": "object",
                "required": [
                    "tables"
                ],
                "title": "WorkspaceLoadRequest",
                "description": "Request to load data into workspace."
            },
            "WorkspaceLoadResponse": {
                "properties": {
                    "loaded": {
                        "items": {
                            "$ref": "#/components/schemas/WorkspaceLoadTableResult"
                        },
                        "type": "array",
                        "title": "Loaded"
                    },
                    "workspace_size_bytes": {
                        "type": "integer",
                        "title": "Workspace Size Bytes",
                        "description": "Total workspace size",
                        "default": 0
                    }
                },
                "type": "object",
                "title": "WorkspaceLoadResponse",
                "description": "Response for load operation."
            },
            "WorkspaceLoadTableResult": {
                "properties": {
                    "source": {
                        "type": "string",
                        "title": "Source",
                        "description": "Source table"
                    },
                    "destination": {
                        "type": "string",
                        "title": "Destination",
                        "description": "Destination table name"
                    },
                    "rows": {
                        "type": "integer",
                        "title": "Rows",
                        "description": "Rows loaded",
                        "default": 0
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Size in bytes",
                        "default": 0
                    }
                },
                "type": "object",
                "required": [
                    "source",
                    "destination"
                ],
                "title": "WorkspaceLoadTableResult",
                "description": "Result of loading a table."
            },
            "WorkspaceObjectInfo": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Object name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "Object type (table, view)",
                        "default": "table"
                    },
                    "rows": {
                        "type": "integer",
                        "title": "Rows",
                        "description": "Row count",
                        "default": 0
                    }
                },
                "type": "object",
                "required": [
                    "name"
                ],
                "title": "WorkspaceObjectInfo",
                "description": "Information about workspace object."
            },
            "WorkspaceResponse": {
                "properties": {
                    "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "Workspace ID"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Workspace name"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id",
                        "description": "Project ID"
                    },
                    "branch_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Branch Id",
                        "description": "Branch ID (null for main)"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At",
                        "description": "Creation timestamp"
                    },
                    "expires_at": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Expires At",
                        "description": "Expiration timestamp"
                    },
                    "size_bytes": {
                        "type": "integer",
                        "title": "Size Bytes",
                        "description": "Current size in bytes",
                        "default": 0
                    },
                    "size_limit_gb": {
                        "type": "integer",
                        "title": "Size Limit Gb",
                        "description": "Size limit in GB",
                        "default": 10
                    },
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Status: active, expired, error",
                        "default": "active"
                    },
                    "connection": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/WorkspaceConnectionInfo"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Connection info"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "project_id"
                ],
                "title": "WorkspaceResponse",
                "description": "Response for workspace operations."
            },
            "WorkspaceTableInfo": {
                "properties": {
                    "schema": {
                        "type": "string",
                        "title": "Schema",
                        "description": "Schema/bucket name"
                    },
                    "table": {
                        "type": "string",
                        "title": "Table",
                        "description": "Table name"
                    },
                    "rows": {
                        "type": "integer",
                        "title": "Rows",
                        "description": "Row count",
                        "default": 0
                    }
                },
                "type": "object",
                "required": [
                    "schema",
                    "table"
                ],
                "title": "WorkspaceTableInfo",
                "description": "Information about an attached table."
            }
        },
        "securitySchemes": {
            "Bearer Auth": {
                "type": "http",
                "description": "Enter your API key (ADMIN_API_KEY or project-specific key)",
                "scheme": "bearer"
            }
        }
    }
}